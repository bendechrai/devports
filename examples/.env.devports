# Example .env.devports template file
# Place this in your project root to use template-based port allocation

# Project identifier (committed to repo - used as base for worktree project names)
DEVPORTS_PROJECT_NAME=myproject

# Database URLs for different environments
# Internal Docker networking (stays the same)
DATABASE_URL=postgresql://user:password@project-database:5432/mydb
DATABASE_URL_TEST=postgresql://user:password@project-database-test:5432/mydb

# Host port mappings for external tools (gets replaced with actual ports)
# MCP server connecting from host to containerized database
MCP_DATABASE_URL=postgresql://user_readonly:password_readonly@localhost:{devports:postgres:main-database}/mydb
MCP_AUTH_DATABASE_URL=postgresql://user_readonly:password_readonly@localhost:{devports:postgres:auth-database}/mydb

# API endpoints for development
API_URL=http://localhost:{devports:api:main-api}/api
AUTH_API_URL=http://localhost:{devports:api:auth-api}/auth

# Redis for caching
REDIS_URL=redis://localhost:{devports:redis:cache-redis}/0

# Monitoring and development tools
PROMETHEUS_URL=http://localhost:{devports:app:monitoring}/metrics
GRAFANA_URL=http://localhost:{devports:app:grafana}/

# Example of using project name in external services
TAILSCALE_FUNNEL_DOMAIN={devports:project}.tail1234.ts.net
DEV_URL=https://{devports:project}-dev.example.com